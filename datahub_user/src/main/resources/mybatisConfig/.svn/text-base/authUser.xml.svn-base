<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- tblNameCN:用户表 FOC_USER -->
<mapper namespace="authUser">
	<resultMap type="java.util.HashMap" id="userBaseMap">
        <result column="UUID" javaType="java.lang.String" property="uuid"/>  <!-- uuid -->        <result column="LOGIN_NAME" javaType="java.lang.String" property="loginName"/>  <!-- 用户名 -->        <result column="REAL_NAME" javaType="java.lang.String" property="realName"/>  <!-- 真实姓名 -->        <result column="GENDER" javaType="java.lang.String" property="gender"/>  <!-- 性别 -->        <result column="CERTIFICATE_TYPE" javaType="java.lang.String" property="certificateType"/>  <!-- 证件类型 -->        <result column="CERTIFICATE_ID" javaType="java.lang.String" property="certificateId"/>  <!-- 证件号码 -->        <result column="PASSWORD" javaType="java.lang.String" property="password"/>  <!-- 密码 -->        <result column="PWD_STATUS" javaType="java.lang.String" property="pwdStatus"/>  <!-- 密码状态 -->        <result column="COMMENTS" javaType="java.lang.String" property="comments"/>  <!-- 用户说明 -->        <result column="BELONG_ADMIN_ID" javaType="java.lang.String" property="belongAdminId"/>  <!-- 所属管理员 -->        <result column="BRANCH_ID" javaType="java.lang.String" property="branchId"/>  <!-- 所属机构 -->        <result column="M_USER_ID" javaType="java.lang.String" property="mUserId"/>  <!-- 经办人 -->        <result column="M_DATE" javaType="java.lang.String" property="mDate"/>  <!-- 经办时间 -->        <result column="R_USER_ID" javaType="java.lang.String" property="rUserId"/>  <!-- 复核人 -->        <result column="R_DATE" javaType="java.lang.String" property="rDate"/>  <!-- 复核时间 -->        <result column="CREATIONDATE" javaType="java.lang.String" property="creationdate"/>  <!-- 创建时间 -->        <result column="MODIFYDATE" javaType="java.lang.String" property="modifydate"/>  <!-- 修改时间 -->        <result column="LAST_PWDERR_DATE" javaType="java.lang.String" property="lastPwderrDate"/>  <!-- 最近密码错误时间 -->        <result column="LAST_LOGININ_DATE" javaType="java.lang.String" property="lastLogininDate"/>  <!-- 最近成功登录时间 -->        <result column="LAST_PWDMOD_DATE" javaType="java.lang.String" property="lastPwdmodDate"/>  <!-- 最近修改密码时间 -->        <result column="LAST_PWDRESET_DATE" javaType="java.lang.String" property="lastPwdresetDate"/>  <!-- 最近密码被重置时间 -->        <result column="DEVICE_UUID" javaType="java.lang.String" property="deviceUuid"/>  <!-- 绑定的设备UUID -->        <result column="STATE" javaType="java.lang.String" property="state"/>  <!-- 记录状态 -->        <result column="EXT1" javaType="java.lang.String" property="ext1"/>  <!-- 备用字段1 -->        <result column="EXT2" javaType="java.lang.String" property="ext2"/>  <!-- 备用字段2 -->        <result column="EXT3" javaType="java.lang.String" property="ext3"/>  <!-- 备用字段3 -->
	</resultMap>
	<resultMap type="java.util.HashMap" id="userExtendMap" extends="userBaseMap">
	    <result column="ROLE_ID" javaType="java.lang.String" property="roleId"/>  <!-- 角色编号 -->
        <result column="ROLE_NAME" javaType="java.lang.String" property="roleName"/>  <!-- 角色名称 -->
	</resultMap>
	<!-- 公共sql提取  -->
	<sql id="querySql">
        <if test="uuid != null">  and (U.UUID = #{uuid} ) </if>        <if test="loginName != null">  and (U.LOGIN_NAME = #{loginName} ) </if>        <if test="realName != null">  and (U.REAL_NAME = #{realName} ) </if>        <if test="gender != null">  and (U.GENDER = #{gender} ) </if>        <if test="certificateType != null">  and (U.CERTIFICATE_TYPE = #{certificateType} ) </if>        <if test="certificateId != null">  and (U.CERTIFICATE_ID = #{certificateId} ) </if>        <if test="password != null">  and (U.PASSWORD = #{password} ) </if>        <if test="pwdStatus != null">  and (U.PWD_STATUS = #{pwdStatus} ) </if>        <if test="comments != null">  and (U.COMMENTS = #{comments} ) </if>        <if test="belongAdminId != null">  and (U.BELONG_ADMIN_ID = #{belongAdminId} ) </if>        <if test="branchId != null">  and (U.BRANCH_ID = #{branchId} ) </if>        <if test="mUserId != null">  and (U.M_USER_ID = #{mUserId} ) </if>        <if test="mDate != null and mDate != '' ">  and (U.M_DATE = to_date(#{mDate},'yyyy-mm-dd hh24:mi:ss') ) </if>        <if test="mDate_START != null and mDate_START != '' ">              <![CDATA[ and (U.M_DATE >= to_date(#{mDate_START},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="mDate_END != null and mDate_END != '' ">            <![CDATA[ and (U.M_DATE <= to_date(#{mDate_END},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="rUserId != null">  and (U.R_USER_ID = #{rUserId} ) </if>        <if test="rDate != null and rDate != '' ">  and (U.R_DATE = to_date(#{rDate},'yyyy-mm-dd hh24:mi:ss') ) </if>        <if test="rDate_START != null and rDate_START != '' ">              <![CDATA[ and (U.R_DATE >= to_date(#{rDate_START},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="rDate_END != null and rDate_END != '' ">            <![CDATA[ and (U.R_DATE <= to_date(#{rDate_END},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="creationdate != null and creationdate != '' ">  and (U.CREATIONDATE = to_date(#{creationdate},'yyyy-mm-dd hh24:mi:ss') ) </if>        <if test="creationdate_START != null and creationdate_START != '' ">              <![CDATA[ and (U.CREATIONDATE >= to_date(#{creationdate_START},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="creationdate_END != null and creationdate_END != '' ">            <![CDATA[ and (U.CREATIONDATE <= to_date(#{creationdate_END},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="modifydate != null and modifydate != '' ">  and (U.MODIFYDATE = to_date(#{modifydate},'yyyy-mm-dd hh24:mi:ss') ) </if>        <if test="modifydate_START != null and modifydate_START != '' ">              <![CDATA[ and (U.MODIFYDATE >= to_date(#{modifydate_START},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="modifydate_END != null and modifydate_END != '' ">            <![CDATA[ and (U.MODIFYDATE <= to_date(#{modifydate_END},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="lastPwderrDate != null and lastPwderrDate != '' ">  and (U.LAST_PWDERR_DATE = to_date(#{lastPwderrDate},'yyyy-mm-dd hh24:mi:ss') ) </if>        <if test="lastPwderrDate_START != null and lastPwderrDate_START != '' ">              <![CDATA[ and (U.LAST_PWDERR_DATE >= to_date(#{lastPwderrDate_START},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="lastPwderrDate_END != null and lastPwderrDate_END != '' ">            <![CDATA[ and (U.LAST_PWDERR_DATE <= to_date(#{lastPwderrDate_END},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="lastLogininDate != null and lastLogininDate != '' ">  and (U.LAST_LOGININ_DATE = to_date(#{lastLogininDate},'yyyy-mm-dd hh24:mi:ss') ) </if>        <if test="lastLogininDate_START != null and lastLogininDate_START != '' ">              <![CDATA[ and (U.LAST_LOGININ_DATE >= to_date(#{lastLogininDate_START},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="lastLogininDate_END != null and lastLogininDate_END != '' ">            <![CDATA[ and (U.LAST_LOGININ_DATE <= to_date(#{lastLogininDate_END},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="lastPwdmodDate != null and lastPwdmodDate != '' ">  and (U.LAST_PWDMOD_DATE = to_date(#{lastPwdmodDate},'yyyy-mm-dd hh24:mi:ss') ) </if>        <if test="lastPwdmodDate_START != null and lastPwdmodDate_START != '' ">              <![CDATA[ and (U.LAST_PWDMOD_DATE >= to_date(#{lastPwdmodDate_START},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="lastPwdmodDate_END != null and lastPwdmodDate_END != '' ">            <![CDATA[ and (U.LAST_PWDMOD_DATE <= to_date(#{lastPwdmodDate_END},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="lastPwdresetDate != null and lastPwdresetDate != '' ">  and (U.LAST_PWDRESET_DATE = to_date(#{lastPwdresetDate},'yyyy-mm-dd hh24:mi:ss') ) </if>        <if test="lastPwdresetDate_START != null and lastPwdresetDate_START != '' ">              <![CDATA[ and (U.LAST_PWDRESET_DATE >= to_date(#{lastPwdresetDate_START},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="lastPwdresetDate_END != null and lastPwdresetDate_END != '' ">            <![CDATA[ and (U.LAST_PWDRESET_DATE <= to_date(#{lastPwdresetDate_END},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="deviceUuid != null">  and (U.DEVICE_UUID = #{deviceUuid} ) </if>        <if test="state != null">  and (U.STATE = #{state} ) </if>        <if test="ext1 != null">  and (U.EXT1 = #{ext1} ) </if>        <if test="ext2 != null">  and (U.EXT2 = #{ext2} ) </if>        <if test="ext3 != null">  and (U.EXT3 = #{ext3} ) </if>
	</sql>
	<sql id="querySqlDim">
        <if test="uuid != null and uuid != '' ">  and (U.UUID like '%'||#{uuid}||'%' ) </if>        <if test="loginName != null and loginName != '' ">  and (U.LOGIN_NAME like '%'||#{loginName}||'%' ) </if>        <if test="realName != null and realName != '' ">  and (U.REAL_NAME like '%'||#{realName}||'%' ) </if>        <if test="gender != null and gender != '' ">  and (U.GENDER like '%'||#{gender}||'%' ) </if>        <if test="certificateType != null and certificateType != '' ">  and (U.CERTIFICATE_TYPE like '%'||#{certificateType}||'%' ) </if>        <if test="certificateId != null and certificateId != '' ">  and (U.CERTIFICATE_ID like '%'||#{certificateId}||'%' ) </if>        <if test="password != null and password != '' ">  and (U.PASSWORD like '%'||#{password}||'%' ) </if>        <if test="pwdStatus != null and pwdStatus != '' ">  and (U.PWD_STATUS like '%'||#{pwdStatus}||'%' ) </if>        <if test="comments != null and comments != '' ">  and (U.COMMENTS like '%'||#{comments}||'%' ) </if>        <if test="belongAdminId != null and belongAdminId != '' ">  and (U.BELONG_ADMIN_ID like '%'||#{belongAdminId}||'%' ) </if>        <if test="branchId != null and branchId != '' ">  and (U.BRANCH_ID like '%'||#{branchId}||'%' ) </if>        <if test="mUserId != null and mUserId != '' ">  and (U.M_USER_ID like '%'||#{mUserId}||'%' ) </if>        <if test="mDate != null and mDate != '' ">  and (U.M_DATE = to_date(#{mDate},'yyyy-mm-dd hh24:mi:ss') ) </if>        <if test="mDate_START != null and mDate_START != '' ">              <![CDATA[ and (U.M_DATE >= to_date(#{mDate_START},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="mDate_END != null and mDate_END != '' ">            <![CDATA[ and (U.M_DATE <= to_date(#{mDate_END},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="rUserId != null and rUserId != '' ">  and (U.R_USER_ID like '%'||#{rUserId}||'%' ) </if>        <if test="rDate != null and rDate != '' ">  and (U.R_DATE = to_date(#{rDate},'yyyy-mm-dd hh24:mi:ss') ) </if>        <if test="rDate_START != null and rDate_START != '' ">              <![CDATA[ and (U.R_DATE >= to_date(#{rDate_START},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="rDate_END != null and rDate_END != '' ">            <![CDATA[ and (U.R_DATE <= to_date(#{rDate_END},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="creationdate != null and creationdate != '' ">  and (U.CREATIONDATE = to_date(#{creationdate},'yyyy-mm-dd hh24:mi:ss') ) </if>        <if test="creationdate_START != null and creationdate_START != '' ">              <![CDATA[ and (U.CREATIONDATE >= to_date(#{creationdate_START},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="creationdate_END != null and creationdate_END != '' ">            <![CDATA[ and (U.CREATIONDATE <= to_date(#{creationdate_END},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="modifydate != null and modifydate != '' ">  and (U.MODIFYDATE = to_date(#{modifydate},'yyyy-mm-dd hh24:mi:ss') ) </if>        <if test="modifydate_START != null and modifydate_START != '' ">              <![CDATA[ and (U.MODIFYDATE >= to_date(#{modifydate_START},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="modifydate_END != null and modifydate_END != '' ">            <![CDATA[ and (U.MODIFYDATE <= to_date(#{modifydate_END},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="lastPwderrDate != null and lastPwderrDate != '' ">  and (U.LAST_PWDERR_DATE = to_date(#{lastPwderrDate},'yyyy-mm-dd hh24:mi:ss') ) </if>        <if test="lastPwderrDate_START != null and lastPwderrDate_START != '' ">              <![CDATA[ and (U.LAST_PWDERR_DATE >= to_date(#{lastPwderrDate_START},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="lastPwderrDate_END != null and lastPwderrDate_END != '' ">            <![CDATA[ and (U.LAST_PWDERR_DATE <= to_date(#{lastPwderrDate_END},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="lastLogininDate != null and lastLogininDate != '' ">  and (U.LAST_LOGININ_DATE = to_date(#{lastLogininDate},'yyyy-mm-dd hh24:mi:ss') ) </if>        <if test="lastLogininDate_START != null and lastLogininDate_START != '' ">              <![CDATA[ and (U.LAST_LOGININ_DATE >= to_date(#{lastLogininDate_START},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="lastLogininDate_END != null and lastLogininDate_END != '' ">            <![CDATA[ and (U.LAST_LOGININ_DATE <= to_date(#{lastLogininDate_END},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="lastPwdmodDate != null and lastPwdmodDate != '' ">  and (U.LAST_PWDMOD_DATE = to_date(#{lastPwdmodDate},'yyyy-mm-dd hh24:mi:ss') ) </if>        <if test="lastPwdmodDate_START != null and lastPwdmodDate_START != '' ">              <![CDATA[ and (U.LAST_PWDMOD_DATE >= to_date(#{lastPwdmodDate_START},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="lastPwdmodDate_END != null and lastPwdmodDate_END != '' ">            <![CDATA[ and (U.LAST_PWDMOD_DATE <= to_date(#{lastPwdmodDate_END},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="lastPwdresetDate != null and lastPwdresetDate != '' ">  and (U.LAST_PWDRESET_DATE = to_date(#{lastPwdresetDate},'yyyy-mm-dd hh24:mi:ss') ) </if>        <if test="lastPwdresetDate_START != null and lastPwdresetDate_START != '' ">              <![CDATA[ and (U.LAST_PWDRESET_DATE >= to_date(#{lastPwdresetDate_START},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="lastPwdresetDate_END != null and lastPwdresetDate_END != '' ">            <![CDATA[ and (U.LAST_PWDRESET_DATE <= to_date(#{lastPwdresetDate_END},'yyyy-mm-dd hh24:mi:ss') ) ]]>        </if>        <if test="deviceUuid != null and deviceUuid != '' ">  and (U.DEVICE_UUID like '%'||#{deviceUuid}||'%' ) </if>        <if test="state != null and state != '' ">  and (U.STATE like '%'||#{state}||'%' ) </if>        <if test="ext1 != null and ext1 != '' ">  and (U.EXT1 like '%'||#{ext1}||'%' ) </if>        <if test="ext2 != null and ext2 != '' ">  and (U.EXT2 like '%'||#{ext2}||'%' ) </if>        <if test="ext3 != null and ext3 != '' ">  and (U.EXT3 like '%'||#{ext3}||'%' ) </if>
	</sql>
	<sql id="dimCheckSql">
		<if test="_QUERY_TYPE_IF_DIM == true"><include refid="querySqlDim"/></if>
		<if test="_QUERY_TYPE_IF_DIM == false"><include refid="querySql"/></if>
	</sql>
	<!-- 根据条件查询(用户表)信息。 -->
	<select id="select_user" parameterType="java.util.HashMap" resultMap="userExtendMap">
	<![CDATA[
     SELECT U.UUID,U.LOGIN_NAME,U.REAL_NAME,U.GENDER,U.CERTIFICATE_TYPE,U.CERTIFICATE_ID,U.PASSWORD,U.PWD_STATUS,U.COMMENTS,U.BELONG_ADMIN_ID,U.BRANCH_ID,U.M_USER_ID,to_char(U.M_DATE,'yyyy-mm-dd hh24:mi:ss') as M_DATE,U.R_USER_ID,to_char(U.R_DATE,'yyyy-mm-dd hh24:mi:ss') as R_DATE,to_char(U.CREATIONDATE,'yyyy-mm-dd hh24:mi:ss') as CREATIONDATE,to_char(U.MODIFYDATE,'yyyy-mm-dd hh24:mi:ss') as MODIFYDATE,to_char(U.LAST_PWDERR_DATE,'yyyy-mm-dd hh24:mi:ss') as LAST_PWDERR_DATE,to_char(U.LAST_LOGININ_DATE,'yyyy-mm-dd hh24:mi:ss') as LAST_LOGININ_DATE,to_char(U.LAST_PWDMOD_DATE,'yyyy-mm-dd hh24:mi:ss') as LAST_PWDMOD_DATE,to_char(U.LAST_PWDRESET_DATE,'yyyy-mm-dd hh24:mi:ss') as LAST_PWDRESET_DATE,U.DEVICE_UUID,U.STATE,U.EXT1,U.EXT2,U.EXT3
	]]>
		<include refid="busiQueryCondition"/>
		<include refid="dimCheckSql"/>
		ORDER BY U.UUID DESC
	</select>
	<!-- 各种查询附加的查询条件 -->
	<sql id="busiQueryCondition">
	    ,U.ROLE_ID,U.ROLE_NAME
	    <include refid="busiQueryCount"/>
	</sql>
	<!-- 查询记录数附加的查询条件 -->
	<sql id="busiQueryCount">
     FROM (
     		SELECT 
     		U.UUID,U.LOGIN_NAME,U.REAL_NAME,U.GENDER,U.CERTIFICATE_TYPE,U.CERTIFICATE_ID,U.PASSWORD,U.PWD_STATUS,U.COMMENTS,U.BELONG_ADMIN_ID,U.BRANCH_ID,U.M_USER_ID,U.M_DATE,U.R_USER_ID,U.R_DATE,U.CREATIONDATE,U.MODIFYDATE,U.LAST_PWDERR_DATE,U.LAST_LOGININ_DATE,U.LAST_PWDMOD_DATE,U.LAST_PWDRESET_DATE,U.DEVICE_UUID,U.STATE,U.EXT1,U.EXT2,U.EXT3
     		,MAX(SUBSTR(U.ROLE_ID_EXT,2)) ROLE_ID,MAX(SUBSTR(U.ROLE_NAME_EXT,2)) ROLE_NAME
				FROM(
				    SELECT TEST2.*,SYS_CONNECT_BY_PATH(TEST2.ROLE_ID,',') ROLE_ID_EXT,SYS_CONNECT_BY_PATH(TEST2.ROLE_NAME,',') ROLE_NAME_EXT
				    FROM 
				    (
				      SELECT TEST1.*,TEST1.UUID||RN RCHILD,TEST1.UUID||(RN-1) RFATHER 
				      FROM (
				           SELECT FU.*,FAOR.ROLE_ID,FAR.ROLE_NAME, ROW_NUMBER() OVER (PARTITION BY FU.UUID ORDER BY FU.LOGIN_NAME) RN 
				          FROM FOC_USER FU
				          LEFT JOIN FOC_ADMIN_OPERATOR_ROLE FAOR ON FAOR.OPER_ID=FU.LOGIN_NAME
				          LEFT JOIN FOC_ADMIN_ROLE FAR ON FAOR.ROLE_ID =FAR.ROLE_ID
				      ) TEST1
				    ) TEST2
				     CONNECT BY PRIOR RCHILD=RFATHER START WITH RFATHER LIKE '%0' 
				) U
				GROUP BY 
				U.UUID,U.LOGIN_NAME,U.REAL_NAME,U.GENDER,U.CERTIFICATE_TYPE,U.CERTIFICATE_ID,U.PASSWORD,U.PWD_STATUS,U.COMMENTS,U.BELONG_ADMIN_ID,U.BRANCH_ID,U.M_USER_ID,U.M_DATE,U.R_USER_ID,U.R_DATE,U.CREATIONDATE,U.MODIFYDATE,U.LAST_PWDERR_DATE,U.LAST_LOGININ_DATE,U.LAST_PWDMOD_DATE,U.LAST_PWDRESET_DATE,U.DEVICE_UUID,U.STATE,U.EXT1,U.EXT2,U.EXT3
     )U
     WHERE 1=1
	</sql>
	
	<!-- 根据条件分页查询(用户表)信息  -->
	<select id="select_user_withPage" resultMap="userExtendMap" parameterType="java.util.Map">
	SELECT * FROM (SELECT MYROW.*, ROWNUM RN 
	FROM (
     SELECT U.UUID,U.LOGIN_NAME,U.REAL_NAME,U.GENDER,U.CERTIFICATE_TYPE,U.CERTIFICATE_ID,U.PASSWORD,U.PWD_STATUS,U.COMMENTS,U.BELONG_ADMIN_ID,U.BRANCH_ID,U.M_USER_ID,to_char(U.M_DATE,'yyyy-mm-dd hh24:mi:ss') as M_DATE,U.R_USER_ID,to_char(U.R_DATE,'yyyy-mm-dd hh24:mi:ss') as R_DATE,to_char(U.CREATIONDATE,'yyyy-mm-dd hh24:mi:ss') as CREATIONDATE,to_char(U.MODIFYDATE,'yyyy-mm-dd hh24:mi:ss') as MODIFYDATE,to_char(U.LAST_PWDERR_DATE,'yyyy-mm-dd hh24:mi:ss') as LAST_PWDERR_DATE,to_char(U.LAST_LOGININ_DATE,'yyyy-mm-dd hh24:mi:ss') as LAST_LOGININ_DATE,to_char(U.LAST_PWDMOD_DATE,'yyyy-mm-dd hh24:mi:ss') as LAST_PWDMOD_DATE,to_char(U.LAST_PWDRESET_DATE,'yyyy-mm-dd hh24:mi:ss') as LAST_PWDRESET_DATE,U.DEVICE_UUID,U.STATE,U.EXT1,U.EXT2,U.EXT3
		<include refid="busiQueryCondition"/>
		<include refid="dimCheckSql"/>
		ORDER BY U.UUID DESC
	 <![CDATA[) MYROW 
		WHERE ROWNUM < #{_begin}+#{_length}+1
		) 
		WHERE RN >= #{_begin}+1]]>
		ORDER BY UUID DESC
	</select>
	
	<!-- 根据条件查询满足条件的(用户表)记录数  -->
	<select id="select_user_count" resultType="java.lang.Integer">
		 SELECT COUNT(*)
		<include refid="busiQueryCount"/>
		<include refid="dimCheckSql"/>
	</select>
	
  <!-- 根据序列号查询某个(用户表)信息。 -->
	<select id="select_user_bySeqId" parameterType="java.lang.String" resultMap="userExtendMap">
	<![CDATA[
     SELECT U.UUID,U.LOGIN_NAME,U.REAL_NAME,U.GENDER,U.CERTIFICATE_TYPE,U.CERTIFICATE_ID,U.PASSWORD,U.PWD_STATUS,U.COMMENTS,U.BELONG_ADMIN_ID,U.BRANCH_ID,U.M_USER_ID,to_char(U.M_DATE,'yyyy-mm-dd hh24:mi:ss') as M_DATE,U.R_USER_ID,to_char(U.R_DATE,'yyyy-mm-dd hh24:mi:ss') as R_DATE,to_char(U.CREATIONDATE,'yyyy-mm-dd hh24:mi:ss') as CREATIONDATE,to_char(U.MODIFYDATE,'yyyy-mm-dd hh24:mi:ss') as MODIFYDATE,to_char(U.LAST_PWDERR_DATE,'yyyy-mm-dd hh24:mi:ss') as LAST_PWDERR_DATE,to_char(U.LAST_LOGININ_DATE,'yyyy-mm-dd hh24:mi:ss') as LAST_LOGININ_DATE,to_char(U.LAST_PWDMOD_DATE,'yyyy-mm-dd hh24:mi:ss') as LAST_PWDMOD_DATE,to_char(U.LAST_PWDRESET_DATE,'yyyy-mm-dd hh24:mi:ss') as LAST_PWDRESET_DATE,U.DEVICE_UUID,U.STATE,U.EXT1,U.EXT2,U.EXT3
	]]>
	<include refid="busiQueryCondition"/>
		 and U.UUID = #{_parameter}
	</select>
	
</mapper>
